body {
    margin: 0; padding: 0;
    background: linear-gradient(135deg, #1a1a2e, #16213e);
    font-family: Arial, sans-serif;
    display: flex; justify-content: center; align-items: center;
    min-height: 100vh; touch-action: none;
}

#startScreen, #mapScreen { 
    text-align: center; color: white; background: rgba(0,0,0,0.8);
    padding: 40px; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.5); 
}

#startScreen h1 { font-size: 2.5em; margin: 0 0 30px 0; text-shadow: 2px 2px 4px rgba(0,0,0,0.5); }
#mapScreen h2 { font-size: 2em; margin: 0 0 30px 0; }

button { background: linear-gradient(45deg, #ffd700, #ffed4e); border: none;
    padding: 15px 30px; margin: 10px; font-size: 18px; border-radius: 25px; cursor: pointer;
    color: #1a1a2e; font-weight: bold; transition: transform 0.2s; }

button:hover, button:active { transform: scale(1.05); }
button:disabled { opacity: 0.5; cursor: not-allowed; transform: none; }

#gameUI { display: flex; flex-direction: column; align-items: center; width: 100%; max-width: 480px; }

#gameCanvas { border: 2px solid #16213e; background: #0f3460; width: 400px; height: 500px; }

#towerSelector { display: flex; justify-content: space-around; width: 100%; padding: 10px;
    background: rgba(0,0,0,0.8); border-top: 2px solid #16213e; }

.towerBtn { border: none; padding: 12px 8px; font-size: 14px; border-radius: 10px; cursor: pointer;
    color: white; font-weight: bold; transition: all 0.2s; min-width: 60px; text-align: center; }

.towerBtn:hover { transform: scale(1.1); }
.towerBtn.selected { box-shadow: 0 0 15px rgba(255,255,255,0.5); }
.towerBtn:disabled { opacity: 0.5; cursor: not-allowed; }

.basic { background: linear-gradient(gold, orange); }
.fast { background: linear-gradient(blue, lightblue); }
.aoe { background: linear-gradient(purple, magenta); }

/* ðŸ†• MAP SELECTOR */
#mapSelector { display: flex; justify-content: space-around; flex-wrap: wrap; gap: 10px; }
.mapBtn { padding: 20px; font-size: 16px; border-radius: 15px; min-width: 100px; 
    color: white; font-weight: bold; transition: all 0.2s; }
.mapBtn:hover { transform: scale(1.05); }
.mapBtn.selected { box-shadow: 0 0 20px rgba(255,255,255,0.8); }

.forest { background: linear-gradient(#4CAF50, #2E7D32); }
.desert { background: linear-gradient(#FF9800, #F57C00); }
.mountain { background: linear-gradient(#607D8B, #455A64); }

#backToStart { background: #666; color: white; padding: 10px 20px; margin-top: 20px; }

/* UPGRADE PANEL */
#upgradePanel {
    position: fixed; bottom: 80px; left: 50%; transform: translateX(-50%);
    background: rgba(0,0,0,0.9); color: white; padding: 20px;
    border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.5);
    text-align: center; min-width: 200px;
}

#upgradeButtons { display: flex; flex-wrap: wrap; justify-content: center; gap: 5px; margin: 10px 0; }
.upgradeBtn { padding: 8px 12px; font-size: 12px; border-radius: 8px; margin: 2px; }
.upgrade1 { background: linear-gradient(#4CAF50, #45a049); }
.upgrade2 { background: linear-gradient(#2196F3, #0b7dda); }
.upgrade3 { background: linear-gradient(#FF9800, #e68900); }
.upgradeBtn:disabled { opacity: 0.5; }

#closeUpgrade { background: #666; color: white; padding: 10px 20px; margin-top: 10px; }

@media (max-width: 480px) {
    #gameCanvas { width: 100vw; height: 70vh; }
    .towerBtn { font-size: 12px; padding: 10px 6px; }
    #upgradePanel { width: 90vw; bottom: 100px; }
    .mapBtn { font-size: 14px; padding: 15px; }
}